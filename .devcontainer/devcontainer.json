{
	"name": "ELEC330",
	
	"build": {
		"dockerfile": "./Dockerfile",
		"context": "..",
        "target": "devel"
	},

	"workspaceMount": "source=${localWorkspaceFolder},target=/catkin_ws/src,type=bind",
	"workspaceFolder": "/catkin_ws/src",

	"containerEnv": {
		"DISPLAY": "host.docker.internal:0"
		// "DISPLAY": "${env:DISPLAY}"
	},

	"runArgs": [
		// "-v", "/tmp/.X11-unix:/tmp/.X11-unix",  // Comment this if not on Linux, or if on Linux but using wayland for display
        // "--gpus", "all"
        "--cap-add=SYS_PTRACE", "--security-opt", "seccomp=unconfined"  // enables using a ptrace-based debugger like C++, Go, and Rust
    ],

	"postCreateCommand": "catkin_make --directory /catkin_ws -DPYTHON_EXECUTABLE=/usr/bin/python3.8",

	"customizations": {
		// Configure properties specific to VS Code.
		"vscode": {
			"extensions": [
				"twxs.cmake",
				"llvm-vs-code-extensions.vscode-clangd"
			],
			"settings": {
				"clangd.arguments": [
					// jq -s 'map(.[])' /catkin_ws/build/**/compile_commands.json > /catkin_ws/compile_commands.json
					"--compile-commands-dir=/catkin_ws"
				]
			}
		}
	}
}
